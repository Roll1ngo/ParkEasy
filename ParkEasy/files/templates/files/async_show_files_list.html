<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Files</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" rel="stylesheet">

  {% load static %}
  <link rel="stylesheet" href="{% static 'files/style.css' %}">

</head>
<body>

<div class="container">
  <h1>File List</h1>
  <h2>Upload a file</h2>
  <div class="col-md-4 d-flex align-items-center justify-content-end">
	<a href="{% url 'files:upload_file' %}" class="btn btn-light me-2">Upload</a>
  </div>

  <h2>Documents</h2>
  <ul class="list-unstyled">
	{% for title, id in documents.items %}
	<li class="d-flex justify-content-between align-items-center">
	  <span class="mr-auto">{{ title }}</span>
	  <div class="btn-group dropend">
		<button type="button" class="btn btn-secondary dropdown-toggle" data-bs-toggle="dropdown" aria-ex></button>
		<ul class="dropdown-menu">
		  <li><a class="dropdown-item" href="{% url 'files:open_file' id %}">Open</a></li>
		  <li><a class="dropdown-item" href="{% url 'files:download_file' id %}">Download</a></li>
		  <li><a class="dropdown-item" href="#" onclick="openDeleteModal()">Delete</a></li>
		</ul>
	  </div>
	</li>
	{% endfor %}
  </ul>


  <h2>Videos</h2>
  <ul class="list-unstyled">
	{% for title, id in videos.items %}
	<li class="d-flex justify-content-between align-items-center">
	  <span class="mr-auto">{{ title }}</span>
	  <div class="dropdown ml-auto">
		<button class="btn btn-default dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false">
		</button>
		<ul class="dropdown-menu">
		  <li><a class="dropdown-item" href="{% url 'files:open_file' id %}">Open</a></li>
		  <li><a class="dropdown-item" href="{% url 'files:download_file' id %}">Download</a></li>
		  <li><a class="dropdown-item" href="#" onclick="openDeleteModal()">Delete</a></li>
		</ul>
	  </div>
	</li>
	{% endfor %}
  </ul>

  <h2>Images</h2>
  <ul class="list-unstyled">
	{% for title, id in images.items %}
	<li class="d-flex justify-content-between align-items-center">
	  <span class="mr-auto">{{ title }}</span>
	  <div class="dropdown ml-auto">
		<button class="btn btn-default dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false">
		</button>
		<ul class="dropdown-menu">
		  <li><a class="dropdown-item" href="{% url 'files:open_file' id %}">Open</a></li>
		  <li><a class="dropdown-item" href="{% url 'files:download_file' id %}">Download</a></li>
		  <li><a class="dropdown-item" href="{% url 'files:delete_file' id %}" onclick="openDeleteModal()">Delete</a></li>
		</ul>
	  </div>
	</li>
	{% endfor %}
  </ul>

  <h2>Other</h2>
  <ul class="list-unstyled">
	{% for title, id in other.items %}
	<li class="d-flex justify-content-between align-items-center">
	  <span class="mr-auto">{{ title }}</span>
	  <div class="dropdown ml-auto">
		<button class="btn btn-default dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false">
		  Options
		</button>
		<ul class="dropdown-menu">
		  <li><a class="dropdown-item" href="{% url 'files:open_file' id %}">Open</a></li>
		  <li><a class="dropdown-item" href="{% url 'files:download_file' id %}">Download</a></li>
		  <li><a class="dropdown-item" href="#" onclick="openDeleteModal()">Delete</a></li>
		</ul>
	  </div>
	</li>
	{% endfor %}
  </ul>

  <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.min.js"></script>
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
		  integrity="sha384-B6sLOLr/6+oqM5fCMtG5qH0cSAO6qDl3jI4gW2G14NC7Glg7mGFPp4XuhFffTJf3"
		  crossorigin="anonymous"></script>
  <script>
	var dropdownElementList = [].slice.call(document.querySelectorAll('.dropdown-toggle'))
	var dropdownList = dropdownElementList.map(function (dropdownToggleEl) {
		return new bootstrap.Dropdown(dropdownToggleEl)
	});
  </script>
  <script>
	$(document).ready(function(){
		$("#myInput").on("keyup", function() {
			var value = $(this).val().toLowerCase();
			$(".card-body").filter(function() {
				$(this).parent().parent().toggle($(this).text().toLowerCase().indexOf(value) > -1)
			});
		});
	});
  </script>
  <script>
	function openDeleteModal() {
		$('#myModal').modal('show');
	}
  </script>
  <script>
	function closeModal() {
		$('#myModal').modal('hide');
		}
  </script>
</div>
</body>
</html>